{% extends 'layout/layout.html' %}
{% load widget_tweaks %}
{% load staticfiles %}
{% load i18n %}
{% block content %}
<main>
        <div id="breadcrumb">
            <div class="container">
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Category</a></li>
                    <li>Page active</li>
                </ul>
            </div>
        </div>
        <!-- /breadcrumb -->

        <div class="container margin_60">
            <div class="row">
                <div class="col-xl-8 col-lg-8">
                    <nav id="secondary_nav">
                        <div class="container">
                            <ul class="clearfix">
                                <li><a href="#section_1" class="active">General info</a></li>
                                <li><a href="#section_2">Reviews</a></li>
                                <li><a href="#sidebar">Booking</a></li>
                            </ul>
                        </div>
                    </nav>
                    <div id="section_1">
                        <div class="box_general_3">
                            <div class="profile">
                                <div class="row">
                                    <div class="col-lg-5 col-md-4">
                                        <figure>
                                            <img src="{{ image.url }}" alt="" class="img-fluid">
                                        </figure>
                                    </div>
                                    <div class="col-lg-7 col-md-8" id="primary_care">
                                        <small>Primary care - Internist
                                            <span class="edit_btn"><button id="myBtn1"><img src="../../../static/html_menu_1/img/edit.png"></button></span>
                                        </small>

                                        <h1>{{first_name}} {{last_name}}</h1>
                                        <span class="rating">
                                            <i class="icon_star voted"></i>
                                            <i class="icon_star voted"></i>
                                            <i class="icon_star voted"></i>
                                            <i class="icon_star voted"></i>
                                            <i class="icon_star"></i>
                                            <small>(145)</small>
                                            <a href="badges.html" data-toggle="tooltip" data-placement="top" data-original-title="Badge Level" class="badge_list_1"><img src="img/badges/badge_1.svg" width="15" height="15" alt=""></a>
                                        </span>
                                        <ul class="statistic">
                                            <li>854 Views</li>
                                            <li>124 Patients</li>
                                        </ul>
                                        <ul class="contacts">
                                            <li>
                                                <h6>Address</h6>
                                                2726 Shinn Street, New York -
                                                <a href="https://www.google.com/maps/dir//Assistance+%E2%80%93+H%C3%B4pitaux+De+Paris,+3+Avenue+Victoria,+75004+Paris,+Francia/@48.8606548,2.3348734,14z/data=!4m15!1m6!3m5!1s0x0:0xa6a9af76b1e2d899!2sAssistance+%E2%80%93+H%C3%B4pitaux+De+Paris!8m2!3d48.8568376!4d2.3504305!4m7!1m0!1m5!1m1!1s0x47e67031f8c20147:0xa6a9af76b1e2d899!2m2!1d2.3504327!2d48.8568361" target="_blank"> <strong>View on map</strong></a>
                                            </li>
                                            <li>
                                                <h6>Phone</h6> <a href="tel://{{phone}}">{{phone}}</a> 
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <hr>
                            
                            <!-- /profile -->
                            <div class="indent_title_in">
                                <i class="pe-7s-user"></i>
                                <h3>Professional statement
                                    <span class="edit_btn"><button id="myBtn2"><img src="../../../static/html_menu_1/img/edit.png"></button></span>
                                </h3>
                                
                            </div>
                            <div class="wrapper_indent">
                                <p>{{description}}</p>
                                
                                <!-- /row-->
                            </div>
                            <!-- /wrapper indent -->

                            <hr>

                            <div class="indent_title_in">
                                <i class="pe-7s-news-paper"></i>
                                <h3>Education
                                    <span class="edit_btn"><button id="myBtn3"><img src="../../../static/html_menu_1/img/edit.png"></button></span>
                                </h3>
                                
                            </div>
                            <div class="wrapper_indent">
                                <p></p>
                                <h6>Curriculum</h6>
                                <ul class="list_edu">
                                    {% for education in educations%}
                                    <li><strong>New York Medical College</strong> - {{education.qualification}}</li><span class="edit_btn"><button id="myBtn3"><img src="../../../static/html_menu_1/img/edit.png"></button></span>
                                    {% endfor %}
                                </ul>
                            </div>
                            <!--  End wrapper indent -->

                            <hr>

                            <div class="indent_title_in">
                                <i class="pe-7s-cash"></i>
                                <h3>Prices &amp; Payments
                                    <span class="edit_btn"><button id="myBtn"><img src="../../../static/html_menu_1/img/edit.png">
                                </h3>
                                
                            </div>
                            <div class="wrapper_indent">
                                <p></p>
                                <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Service - Visit</th>
                                            <th>Price</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for product in products %}
                                        <tr>
                                            <td>{{product.item}}</td>
                                            <td>{{product.price}}</td>
                                        </tr>
                                        {% endfor %}
                                        <tr>
                                            <td>General consultation</td>
                                            <td>$60</td>
                                        </tr>
                                        <tr>
                                            <td>Back Pain</td>
                                            <td>$40</td>
                                        </tr>
                                        <tr>
                                            <td>Diabetes Consultation</td>
                                            <td>$55</td>
                                        </tr>
                                        <tr>
                                            <td>Eating disorder</td>
                                            <td>$60</td>
                                        </tr>
                                        <tr>
                                            <td>Foot Pain</td>
                                            <td>$35</td>
                                        </tr>
                                    </tbody>
                                </table>
                                </div>
                            </div>
                            <!--  /wrapper_indent -->
                        </div>
                        <!-- /section_1 -->
                    </div>
                    <!-- /box_general -->

                    <div id="section_2">
                        <div class="box_general_3">
                            <div class="reviews-container">
                                <div class="row">
                                    <div class="col-lg-3">
                                        <div id="review_summary">
                                            <strong>4.7</strong>
                                            <div class="rating">
                                                <i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star"></i>
                                            </div>
                                            <small>Based on 4 reviews</small>
                                        </div>
                                    </div>
                                    <div class="col-lg-9">
                                        <div class="row">
                                            <div class="col-lg-10 col-9">
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-3"><small><strong>5 stars</strong></small></div>
                                        </div>
                                        <!-- /row -->
                                        <div class="row">
                                            <div class="col-lg-10 col-9">
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="width: 95%" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-3"><small><strong>4 stars</strong></small></div>
                                        </div>
                                        <!-- /row -->
                                        <div class="row">
                                            <div class="col-lg-10 col-9">
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-3"><small><strong>3 stars</strong></small></div>
                                        </div>
                                        <!-- /row -->
                                        <div class="row">
                                            <div class="col-lg-10 col-9">
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-3"><small><strong>2 stars</strong></small></div>
                                        </div>
                                        <!-- /row -->
                                        <div class="row">
                                            <div class="col-lg-10 col-9">
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="width: 0" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-2 col-3"><small><strong>1 stars</strong></small></div>
                                        </div>
                                        <!-- /row -->
                                    </div>
                                </div>
                                <!-- /row -->

                                <hr>

                                <div class="review-box clearfix">
                                    <figure class="rev-thumb"><img src="http://via.placeholder.com/150x150.jpg" alt="">
                                    </figure>
                                    <div class="rev-content">
                                        <div class="rating">
                                            <i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star"></i>
                                        </div>
                                        <div class="rev-info">
                                            Admin – April 03, 2016:
                                        </div>
                                        <div class="rev-text">
                                            <p>
                                                Sed eget turpis a pede tempor malesuada. Vivamus quis mi at leo pulvinar hendrerit. Cum sociis natoque penatibus et magnis dis
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <!-- End review-box -->

                                <div class="review-box clearfix">
                                    <figure class="rev-thumb"><img src="http://via.placeholder.com/150x150.jpg" alt="">
                                    </figure>
                                    <div class="rev-content">
                                        <div class="rating">
                                            <i class="icon-star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star"></i>
                                        </div>
                                        <div class="rev-info">
                                            Ahsan – April 01, 2016
                                        </div>
                                        <div class="rev-text">
                                            <p>
                                                Sed eget turpis a pede tempor malesuada. Vivamus quis mi at leo pulvinar hendrerit. Cum sociis natoque penatibus et magnis dis
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <!-- End review-box -->

                                <div class="review-box clearfix">
                                    <figure class="rev-thumb"><img src="http://via.placeholder.com/150x150.jpg" alt="">
                                    </figure>
                                    <div class="rev-content">
                                        <div class="rating">
                                            <i class="icon-star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star"></i>
                                        </div>
                                        <div class="rev-info">
                                            Sara – March 31, 2016
                                        </div>
                                        <div class="rev-text">
                                            <p>
                                                Sed eget turpis a pede tempor malesuada. Vivamus quis mi at leo pulvinar hendrerit. Cum sociis natoque penatibus et magnis dis
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <!-- End review-box -->
                            </div>
                            <!-- End review-container -->
                            <hr>
                            <div class="text-right"><a href="submit-review.html" class="btn_1">Submit review</a></div>
                        </div>
                    </div>
                    <!-- /section_2 -->
                </div>
                <!-- /col -->
                <aside class="col-xl-4 col-lg-4" id="sidebar">
                    <div class="box_general_3 booking">
                        <form>
                            <div class="title">
                            <h3>Book a Visit</h3>
                            <small>Monday to Friday 09.00am-06.00pm</small>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <input class="form-control" type="text" id="booking_date" data-lang="en" data-min-year="2017" data-max-year="2020" data-disabled-days="10/17/2017,11/18/2017">
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-group">
                                        <input class="form-control" type="text" id="booking_time" value="9:00 am">
                                    </div>
                                </div>
                            </div>
                            <!-- /row -->
                            <ul class="treatments clearfix">
                                <li>
                                    <div class="checkbox">
                                        <input type="checkbox" class="css-checkbox" id="visit1" name="visit1">
                                        <label for="visit1" class="css-label">Back Pain visit <strong>$55</strong></label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <input type="checkbox" class="css-checkbox" id="visit2" name="visit2">
                                        <label for="visit2" class="css-label">Cardiovascular screen <strong>$55</strong></label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <input type="checkbox" class="css-checkbox" id="visit3" name="visit3">
                                        <label for="visit3" class="css-label">Diabetes consultation <strong>$55</strong></label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <input type="checkbox" class="css-checkbox" id="visit4" name="visit4">
                                        <label for="visit4" class="css-label">General visit <strong>$55</strong></label>
                                    </div>
                                </li>
                            </ul>
                            <hr>
                            <a href="booking-page.html" class="btn_1 full-width">Book Now</a>
                        </form>
                    </div>
                    <!-- /box_general -->
                </aside>
                <!-- /asdide -->
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
</main>
<div id="myModal1" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <p><div class="col-lg-12 col-md-12" id="primary_care">
        <small>Primary care - Internist
            
        </small>
        <ul class="contacts">
            <h6>First Name</h6>
        <input type="text" value="{{first_name}}" name="first_name" id="firstName">
        </ul>
        <ul class="contacts">
            <h6>Last Name</h6>
        <input type="text" value="{{last_name}}" name="last_name" id="lastName">
        </ul>
        <h1></h1>
        <ul class="contacts">
         <h6>Phone</h6> 
            <input type="text" value="{{phone}}" name="phone" id="phone">
        </ul>
        <button data-id="{{request.user.profile.id}}" data-url="{% url 'users:edit-profile' %}" class="save_btn">save</button>
    </div></p>
  </div>
</div>


<div id="myModal2" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <ul class="contacts">
            <h6>Description</h6>
        <input type="text" value="{{description}}" name="description" id="description">
        </ul>
        <button data-id="{{request.user.profile.id}}" data-url="{% url 'users:add-statement' %}" class="save_btn">save</button>
    </div>
</div>


<div id="myModal3" class="modal">
<!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <ul class="contacts">
            <h6>Qualification</h6>
        <input type="text" value="{{qualification}}" name="qualification" id="qualification">
        </ul>
        <button data-id="{{request.user.profile.id}}" data-url="{% url 'users:add-education' %}" class="save_btn">save</button>
    </div>
</div>


<div id="myModal" class="modal">
<!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
        <ul class="contacts">
            <h6>Item</h6>
            <input type="text" value="{{item}}" name="item" id="item">
        </ul>
        <ul class="contacts">
            <h6>Prices</h6>
            <input type="text" value="{{price}}" name="price" id="price">
        </ul>
        <button data-id="{{request.user.profile.id}}" data-url="{% url 'users:add-product' %}" class="save_btn">save</button>
    </div>
</div>
<!-- /main -->
<script type="text/javascript">
    // var modal = document.getElementById("myModal");
    // var btn = document.getElementById("myBtn");
    // var span = document.getElementsByClassName("close")[0];
    // btn.onclick = function() {
    //     modal.style.display = "block";
    // };
    // span.onclick = function() {
    //   modal.style.display = "none";
    // };
    // window.onclick = function(event) {
    //   if (event.target == modal) {
    //     modal.style.display = "none";
    // }
    // };

    var modal = document.getElementById("myModal");
    var btn = document.getElementById("myBtn");
    var span = document.getElementsByClassName("close")[0];
    btn.onclick = function() {
        modal.style.display = "block";
    };
    span.onclick = function() {
      modal.style.display = "none";
    };
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
    }
    };

$(document).on("click", ".save_btn1", function(e){
    e.preventDefault();
    url = $(this).data('url');
    profile_id = $(this).data('id');
    phone = $("#phone").val();
    firstName = $("#firstName").val();
    lastName = $("#lastName").val();
    $.ajax({
        type: "POST",
        url: url,
        headers:{
            "X-CSRFToken": '{{csrf_token}}' 
        },
        dataType: "json",
        data: {"profile_id":profile_id,"phone":phone,"firstName":firstName,"lastName":lastName},
        success: function(response) {
                if(response.status == 200){
                    window.location.reload()
                   }  
            }
        });
});

$(document).on("click", ".save_btn1", function(e){
    e.preventDefault();
    url = $(this).data('url');
    profile_id = $(this).data('id');
    description = $("#description").val();
    $.ajax({
        type: "POST",
        url: url,
        headers:{
            "X-CSRFToken": '{{csrf_token}}' 
        },
        dataType: "json",
        data: {"profile_id":profile_id,"description":description},
        success: function(response) {

                if(response.status == 200){
                    window.location.reload()
                   }  
            }
        });
});

$(document).on("click", ".save_btn1", function(e){
    e.preventDefault();
    url = $(this).data('url');
    profile_id = $(this).data('id');
    qualification = $("#qualification").val();
    $.ajax({
        type: "POST",
        url: url,
        headers:{
            "X-CSRFToken": '{{csrf_token}}' 
        },
        dataType: "json",
        data: {"profile_id":profile_id,"qualification":qualification},
        success: function(response) {
                if(response.status == 200){
                    window.location.reload()
                   }  
            }
        });
});

$(document).on("click", ".save_btn", function(e){
    e.preventDefault();
    url = $(this).data('url');
    profile_id = $(this).data('id');
    price = $("#price").val();
    item = $("#item").val();
    $.ajax({
        type: "POST",
        url: url,
        headers:{
            "X-CSRFToken": '{{csrf_token}}' 
        },
        dataType: "json",
        data: {"profile_id":profile_id,"price":price,"item":item},
        success: function(response) {
                if(response.status == 200){
                    window.location.reload()
                   }  
            }
        });
});
</script>

<style>
    .edit_btn{
        float: right;
    }
    .edit_btn button{
     border:none;
     background: none;
    }
    .edit_btn img{
      width: 16px;
    }
    .edit_btn button:focus{
     border:none;
     outline: none;
    }
    .modal {
  display: none; 
  position: fixed; 
  padding-top: 100px; 
  left: 0;
  top: 0;
  width: 100%; 
  height: 100%; 
  overflow: auto; 
  background-color: rgb(0,0,0); 
  background-color: rgba(0,0,0,0.4); 
}


.modal-content {
  background-color: #fefefe;
  margin: auto;
  padding: 20px;
  border: 1px solid #888;
  width: 40%;
}

.close {
  color: #aaaaaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  text-align: right;
    margin-top: -10px;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}
.save_btn {
    text-align: right;
    float: right;
    background: #e74e84;
    border: none;
    border-radius: 50px;
    padding: 9px 25px;
    color: #fff;
}
</style>

{% endblock %}