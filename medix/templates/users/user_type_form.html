{% extends 'layout/layout.html' %}
{% load widget_tweaks %}
{% load staticfiles %}
{% load i18n %}
{% block content %}

<main>
  <div class="bg_color_2">
      <div class="container margin_60_35 nopadd">
        <!-- <div id="login-2"> -->
           <div id="">
    <div id="hero_register">
      {% if messages %}
      {% for message in messages %}
      <p {% if message.tags %} class="{{message.tags}}" {% endif %}>{{ message }}</p>
      {% endfor %}
      
      </script>
    
      {% endif %}
        <div class="container margin_120_95 margin_none">           
            <div class="row">
                <!-- /col -->
                <div class="col-lg-12 ml-auto text_aligntext">
                  <h3 class="signup_heading">Select For Login/Sign-up</h3>
                    <div class="popup_main">
                      <button class="open_popup"><img src="{% static 'html_menu_1/img/patient_bg.png' %}"></button>
                      <div class="popup_body">
                        <div class="popup_back"></div>
                          <div class="popup_contain">
                            <div class="optionerror" style="display:none">
                            </div>
                            <div class="popup_close">x</div>
                            <h5 class="health_insurance">Patient</h5>
                              <form id="login-patient" action="/patient/login/" method="post" role="form" style="display: block;">{% csrf_token %}
                                    <div class="form-group">
                                      <input type="text" class="form-control" id="username" placeholder="Enter username" name="username">
                                    </div>
                                    <div class="form-group">
                                      <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required="required">
                                      <a href="#0" class="forgot"><small>Forgot password?</small></a>
                                    </div>
                                    <div class="form-group login_btn">
                                      <input class="btn_1" type="submit" value="Login">
                                    </div>
                              </form>
                            <p class="text-center link_bright">Do not have an account yet? <a href="{% url 'users:patient-signup' %}"><strong>Register now!</strong></a></p>
                          </div>
                      </div>
                    </div>
                    <div class="popup_main">
                      <button class="open_popup"><img src="{% static 'html_menu_1/img/practice_bg.png' %}"></button>
                      <div class="popup_body">
                        
                        <div class="popup_back"></div>
                          <div class="popup_contain">
                            <div class="optionerror" style="display:none">
                            </div>
                            <div class="popup_close">x</div>
                            <h5 class="health_insurance">Practice</h5>
                            
                              <form id="login-practice" action="/prctice/login" method="post" role="form" style="display: block;">{% csrf_token %}
                                    <div class="form-group">
                                      <input type="text" class="form-control" id="username" placeholder="Enter username" name="username">
                                    </div>
                                    <div class="form-group">
                                      <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required="required">
                                      <a href="#0" class="forgot"><small>Forgot password?</small></a>
                                    </div>
                                    <div class="form-group login_btn">
                                      <input class="btn_1" type="submit" value="Login">
                                    </div>
                              </form>
                            <p class="text-center link_bright">Do not have an account yet? <a href="{% url 'users:select-specialisation' %}"><strong>Register now!</strong></a></p>
                          </div>
                      </div>
                    </div>
                    <div class="popup_main">
                      <button class="open_popup"><img src="{% static 'html_menu_1/img/institution_bg.png' %}"></button>
                      <div class="popup_body">
                        <div class="popup_back"></div>
                          <div class="popup_contain">
                            <div class="optionerror" style="display:none">
                            </div>
                            <div class="popup_close">x</div>
                            <h5 class="health_insurance">Institution</h5>
                              <form id="login-inst"  method="post" action="/institution/login/" role="form" style="display: block;">{% csrf_token %}
                                    <div class="form-group">
                                      <input type="text" class="form-control" id="username" placeholder="Enter username" name="username">
                                    </div>
                                    <div class="form-group">
                                      <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required="required">
                                      <a href="#0" class="forgot"><small>Forgot password?</small></a>
                                    </div>
                                    <div class="form-group login_btn">
                                      <input class="btn_1" type="submit" value="Login">
                                    </div>
                              </form>
                            <p class="text-center link_bright">Do not have an account yet? <a href="{% url 'users:institution-step2' %}"><strong>Register now!</strong></a></p>
                          </div>
                      </div>
                    </div>
                    <div class="popup_main">
                      <button class="open_popup"><img src="{% static 'html_menu_1/img/emergency_bg.png' %}"></button>
                      <div class="popup_body">
                        <div class="popup_back"></div>
                          <div class="popup_contain">
                            <div class="optionerror" style="display:none">
                            </div>
                            <div class="popup_close">x</div>
                            <h5 class="health_insurance">Emergency Services</h5>
                              <form id="login-service"  method="post" action="/service/login/" role="form" style="display: block;">{% csrf_token %}
                                    <div class="form-group">
                                      <input type="text" class="form-control" id="username" placeholder="Enter username" name="username">
                                    </div>
                                    <div class="form-group">
                                      <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required="required">
                                      <a href="#0" class="forgot"><small>Forgot password?</small></a>
                                    </div>
                                    <div class="form-group login_btn">
                                      <input class="btn_1" type="submit" value="Login">
                                    </div>
                              </form>
                            <p class="text-center link_bright">Do not have an account yet? <a href="{% url 'users:select-emergency-service' %}"><strong>Register now!</strong></a></p>
                          </div>
                      </div>
                    </div>
                    <div class="popup_main">
                      <button class="open_popup"><img src="{% static 'html_menu_1/img/insurance_bg.png' %}"></button>
                      <div class="popup_body">
                        <div class="popup_back"></div>
                          <div class="popup_contain">
                            <div class="optionerror" style="display:none">
                            </div>
                            <div class="popup_close">x</div>
                            <h5 class="health_insurance">Health Insurance Providers</h5>
                              <form id="login-insu"  method="post" action="/insurance/login/" role="form" style="display: block;">{% csrf_token %}
                                    <div class="form-group">
                                      <input type="text" class="form-control" id="username" placeholder="Enter username" name="username">
                                    </div>
                                    <div class="form-group">
                                      <input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required="required">
                                      <a href="#0" class="forgot"><small>Forgot password?</small></a>
                                    </div>
                                    <div class="form-group login_btn">
                                      <input class="btn_1" type="submit" value="Login">
                                    </div>
                              </form>
                              <p class="text-center link_bright">Do not have an account yet? <a href="{% url 'users:insurance-provider-signup' %}"><strong>Register now!</strong></a></p>
                          </div>
                      </div>
                    </div>
                    
                </div>
                <!-- /col -->
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /hero_register -->
</main>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript">
    $(".open_popup").click(function () {
   $(this).parent(".popup_main").children(".popup_body").addClass("popup_body_show");
   });
 $(".popup_close").click(function () {
   $(".popup_body").removeClass("popup_body_show");
   });
 $(".popup_back").click(function () {
   $(".popup_body").removeClass("popup_body_show");
   });


 var frm = $('#login-practice');
    frm.submit(function () {
        
        $.ajax({
            type: frm.attr('method'),
            url: frm.attr('action'),
            data: frm.serialize(),
            headers:{
            "X-CSRFToken": '{{csrf_token}}' 
            },
            dataType: "json",
            success: function (response) {
              if(response.status == 200){
                window.location.href='/dashboard/practice/'+response.user_id
              }
              else if(response.status == 400){
                $( ".optionerror" ).html( "Admin aprroval pending or Incorrect email id or password" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
              else{
                    $( ".optionerror" ).html( "Not Authorised" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
            },
            error: function(response) {
                
            }
        });
        return false;
    });


var instFrm = $('#login-inst');
    instFrm.submit(function () { 
        $.ajax({
            type: instFrm.attr('method'),
            url: instFrm.attr('action'),
            data: instFrm.serialize(),
            headers:{
            "X-CSRFToken": '{{csrf_token}}' 
            },
            dataType: "json",
            success: function (response) {
              if(response.status == 200){
                window.location.href='/dashboard/institution/'+response.user_id
              }
              else if(response.status == 400){
                $( ".optionerror" ).html( "Admin aprroval pending or Incorrect email id or password" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
              else{
                    $( ".optionerror" ).html( "Not Authorised" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
            },
            error: function(response) {
                
            }
        });
        return false;
    });

var serviceFrm = $('#login-service');
    serviceFrm.submit(function () { 
        $.ajax({
            type: serviceFrm.attr('method'),
            url: serviceFrm.attr('action'),
            data: serviceFrm.serialize(),
            headers:{
            "X-CSRFToken": '{{csrf_token}}' 
            },
            dataType: "json",
            success: function (response) {
              if(response.status == 200){
                window.location.href='/dashboard/emergency-service/'+response.user_id
              }
              else if(response.status == 400){
                $( ".optionerror" ).html( "Admin aprroval pending or Incorrect email id or password" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
              else{
                    $( ".optionerror" ).html( "Not Authorised" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
            },
            error: function(response) {
                
            }
        });
        return false;
    });

var insFrm = $('#login-insu');
    insFrm.submit(function () { 
        $.ajax({
            type: insFrm.attr('method'),
            url: insFrm.attr('action'),
            data: insFrm.serialize(),
            headers:{
            "X-CSRFToken": '{{csrf_token}}' 
            },
            dataType: "json",
            success: function (response) {
              if(response.status == 200){
                window.location.href='/dashboard/health-insurance/'+response.user_id
              }
              else if(response.status == 400){
                $( ".optionerror" ).html( "Admin aprroval pending or Incorrect email id or password" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
              else{
                    $( ".optionerror" ).html( "Not Authorised" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
            },
            error: function(response) {
                
            }
        });
        return false;
    }); 


    var patFrm = $('#login-patient');
    patFrm.submit(function () {
        
        $.ajax({
            type: patFrm.attr('method'),
            url: patFrm.attr('action'),
            data: patFrm.serialize(),
            headers:{
            "X-CSRFToken": '{{csrf_token}}' 
            },
            dataType: "json",
            success: function (response) {
              if(response.status == 200){
                window.location.href='/dashboard/practice/'+response.user_id
              }
              else if(response.status == 400){
                $( ".optionerror" ).html( "Admin aprroval pending or Incorrect email id or password" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
              else{
                    $( ".optionerror" ).html( "Not Authorised" );
                    $(".optionerror").css("display","block");
                    $(".optionerror").css("position","fixed");
                    setTimeout(function(){
                    $(".optionerror").hide(); 
                    }, 8000);

              }
            },
            error: function(response) {
                
            }
        });
        return false;
    });

 
</script>
<style>
button.open_popup {
    background: none;
    border: none;
}
.popup_main img {
    width: 200px;
}
.signup_heading {
  text-align: left;
  font-size: 22px;
  color: #fff;
  padding-left: 24px;
  padding-bottom: 10px;
}
.nopadd{
  padding: 0!important;
}
.popup_main button:focus {
    outline: none;
}
.popup_close:hover {
    cursor: pointer;
}
.margin_none{
  padding-top: 95px !important;
}
.popup_body{
  display:none;
  position:fixed;
  top:0;left:0;right:0;bottom:0;
  -webkit-transition: 300ms;
    -moz-transition: 300ms;
    -o-transition: 300ms;
    -ms-transition: 300ms;
    transition: 300ms;
}
.popup_body_show{
  display:block;
  -webkit-transition: 300ms;
    -moz-transition: 300ms;
    -o-transition: 300ms;
    -ms-transition: 300ms;
    transition: 300ms;
}
.popup_back{
  background: rgba(0,0,0,0.4);
  position: fixed;
  left:0;right:0;top:0;bottom:0;
}
.popup_contain{
  position: relative;
  background: #fff;
  min-width: 300px;
  max-width: 30%;
  margin: 150px auto 50px;
  padding: 10px 20px;
  color: #222;
  border-radius: 4px;
}
.popup_close{
  background: #23234714;
    padding: 3px 10px 5px;
    position: absolute;
    right: 10px;
    top: 10px;
    color: #222;
    border-radius: 50%;
}
.text_aligntext{
    text-align: center;
}
.popup_main {
    display: inline-block;
    float: left;
    margin:0 10px;
    
}
.health_insurance{
    margin:20px 0;
}
a.forgot {
    text-align: left;
    padding-top: 6px;
    display: block;
}
</style>
{% endblock %}